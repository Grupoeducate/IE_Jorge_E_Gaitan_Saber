<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe Educativo I.E. JORGE ELIECER GAITAN</title>
    
    <!-- LIBRER√çAS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    
    <!-- FUENTES -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-body: #f4f6f8;
            --text-main: #333;
            
            /* COLORES DE √ÅREAS (Mantenidos) */
            --c-lenguaje: #FFAF10;   
            --c-naturales: #38B849;  
            --c-matematicas: #FA8349; 
            --c-sociales: #3F7ABE;   
            --c-ingles: #825EA8;     

            /* COLORES DE GRADOS */
            --g10-color: #104E8B; /* Azul Oscuro */
            --g11-color: #008B8B; /* Verde Teal */

            /* SEM√ÅFORO GLOBAL (0-500) */
            --icfes-rojo: #C0392B;   /* 0-180 */
            --icfes-naranja: #F39C12; /* 181-269 */
            --icfes-azul: #2980B9;   /* 270-349 */
            --icfes-verde: #27AE60;  /* 350-500 */
        }

        body { font-family: 'Roboto', sans-serif; background: var(--bg-body); color: var(--text-main); margin: 0; padding: 20px; }
        .container { max-width: 1350px; margin: 0 auto; }

        /* HEADER (Sin leyenda) */
        header { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; border-top: 6px solid var(--g11-color); margin-bottom: 30px; }
        h1 { margin: 0; color: #2c3e50; font-weight: 900; text-transform: uppercase; font-size: 1.8rem; }
        .sub-header { color: #7f8c8d; font-weight: 500; margin-top: 5px; }
        
        /* SECCI√ìN CONSOLIDADO Y LEYENDA */
        .legend-container { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 15px; padding: 10px; background: #fff; border-radius: 8px; border: 1px solid #eee; }
        .legend-badge { padding: 6px 16px; border-radius: 20px; color: white; font-weight: 700; font-size: 0.85rem; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        /* KPIs */
        .grade-section-header {
            display: flex; align-items: center; background: white; padding: 15px 20px;
            border-radius: 10px 10px 0 0; margin-top: 30px; border-bottom: 2px solid #eee;
        }
        .grade-badge { color: white; padding: 5px 15px; border-radius: 5px; font-weight: 900; font-size: 1.2rem; margin-right: 15px; }
        .grade-info { font-size: 0.9rem; color: #777; font-weight: 500; }

        .kpi-grid { 
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; 
            background: white; padding: 20px; border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05); margin-bottom: 20px;
        }
        .kpi-card { background: #fdfdfd; padding: 20px; border-radius: 10px; text-align: center; border: 1px solid #eee; border-bottom: 4px solid #ccc; }
        .kpi-value { font-size: 2.2rem; font-weight: 900; margin: 10px 0; color: #333; }
        .kpi-label { font-size: 0.75rem; text-transform: uppercase; color: #888; font-weight: 700; letter-spacing: 0.5px; }
        .kpi-sub { font-size: 0.8rem; color: #555; font-weight: 500; }

        /* SECCIONES GENERALES */
        .section-title { 
            background: #34495e; color: white; padding: 12px 20px; 
            border-radius: 8px; margin: 50px 0 25px 0; font-weight: 700; 
            text-transform: uppercase; letter-spacing: 0.5px; display: flex; align-items: center;
        }
        .section-num { background: rgba(255,255,255,0.2); width: 30px; height: 30px; display: flex; justify-content: center; align-items: center; border-radius: 50%; margin-right: 15px; font-size: 1rem; font-weight: bold; }

        /* TRAZABILIDAD */
        .trace-section-subtitle { font-size: 1.4rem; font-weight: 900; margin: 30px 0 15px 0; padding-left: 15px; border-left: 6px solid; text-transform: uppercase; letter-spacing: 1px; }
        .trace-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 40px; }
        .trace-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); border: 1px solid #e0e0e0; display: flex; flex-direction: column; }
        .trace-header { padding: 12px; text-align: center; color: white; font-weight: 900; text-transform: uppercase; font-size: 0.9rem; }
        
        .bg-leng { background-color: var(--c-lenguaje); }
        .bg-mat { background-color: var(--c-matematicas); }
        .bg-nat { background-color: var(--c-naturales); }
        .bg-soc { background-color: var(--c-sociales); }
        .bg-ing { background-color: var(--c-ingles); }

        .trace-body { padding: 15px; height: 220px; position: relative; }
        .trace-footer { padding: 12px 20px; border-top: 1px solid #eee; display: flex; justify-content: space-between; background: #fafafa; }
        .tf-val { font-weight: 900; font-size: 1.2rem; color: #2c3e50; display: block; }
        .tf-lbl { font-size: 0.7rem; color: #95a5a6; text-transform: uppercase; font-weight: 700; }

        /* AN√ÅLISIS MULTIDIMENSIONAL */
        .multi-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 25px; }
        .chart-box { background: white; padding: 25px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); height: 420px; }
        .cb-title { text-align: center; font-weight: 700; color: #555; margin-bottom: 20px; text-transform: uppercase; font-size: 1rem; border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; }

        .global-container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05); height: 400px; margin-bottom: 30px; }

        /* SUGERENCIAS */
        .suggestions-container { 
            background-color: #fff; border-top: 6px solid var(--g11-color); 
            border-radius: 10px; padding: 40px; margin-top: 60px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); 
        }
        .sug-title { font-size: 1.5rem; font-weight: 900; color: #2c3e50; margin-bottom: 25px; display: flex; align-items: center; text-transform: uppercase; }
        .sug-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .sug-item { margin-bottom: 15px; }
        .sug-header { font-weight: 800; color: var(--g11-color); font-size: 1.05rem; margin-bottom: 5px; }
        .sug-text { font-size: 0.95rem; line-height: 1.6; color: #555; text-align: justify; }

        footer { text-align: center; margin-top: 60px; font-size: 0.85rem; color: #aaa; padding-bottom: 20px; }

        @media (max-width: 1024px) { .multi-grid, .kpi-grid, .sug-grid { grid-template-columns: 1fr; } }

    </style>
</head>
<body>

<div class="container">
    
    <header>
        <h1>Informe Educativo I.E. JORGE ELIECER GAITAN</h1>
        <div class="sub-header">AN√ÅLISIS DE RESULTADOS Y TENDENCIAS</div>
    </header>

    <!-- KPI BLOCK GRADO 10 -->
    <div class="grade-section-header">
        <div class="grade-badge" style="background: var(--g10-color);">GRADO 10¬∞</div>
        <div class="grade-info">COHORTE BASE (5 Pruebas Aplicadas)</div>
    </div>
    <div class="kpi-grid">
        <div class="kpi-card" style="border-color: var(--icfes-naranja);">
            <div class="kpi-label">Promedio Global Ponderado</div>
            <div class="kpi-value" style="color: var(--icfes-naranja);">242.4</div>
            <div class="kpi-sub">Nivel M√≠nimo (Escala 0-500)</div>
        </div>
        <div class="kpi-card" style="border-color: var(--c-sociales);">
            <div class="kpi-label">Mejor √Årea (Promedio)</div>
            <div class="kpi-value" style="color: var(--c-sociales);">57.2</div>
            <div class="kpi-sub">Sociales (Escala 0-100)</div>
        </div>
        <div class="kpi-card" style="border-color: var(--c-matematicas);">
            <div class="kpi-label">√Årea a Observar</div>
            <div class="kpi-value" style="color: var(--c-matematicas);">42.3</div>
            <div class="kpi-sub">Matem√°ticas (Escala 0-100)</div>
        </div>
    </div>

    <!-- KPI BLOCK GRADO 11 -->
    <div class="grade-section-header">
        <div class="grade-badge" style="background: var(--g11-color);">GRADO 11¬∞</div>
        <div class="grade-info">COHORTE SALIDA (4 Pruebas Aplicadas)</div>
    </div>
    <div class="kpi-grid">
        <div class="kpi-card" style="border-color: var(--icfes-naranja);">
            <div class="kpi-label">Promedio Global Ponderado</div>
            <div class="kpi-value" style="color: var(--icfes-naranja);">268.6</div>
            <div class="kpi-sub">Nivel M√≠nimo (Escala 0-500)</div>
        </div>
        <div class="kpi-card" style="border-color: var(--c-sociales);">
            <div class="kpi-label">Mejor √Årea (Promedio)</div>
            <div class="kpi-value" style="color: var(--c-sociales);">57.4</div>
            <div class="kpi-sub">Sociales (Escala 0-100)</div>
        </div>
        <div class="kpi-card" style="border-color: var(--c-ingles);">
            <div class="kpi-label">√Årea Cr√≠tica</div>
            <div class="kpi-value" style="color: var(--c-ingles);">49.9</div>
            <div class="kpi-sub">Ingl√©s (Escala 0-100)</div>
        </div>
    </div>

    <!-- 1. CONSOLIDADO GLOBAL (ESCALA 0-500) -->
    <div class="section-title"><div class="section-num">1</div> CONSOLIDADO DE PRUEBAS (EVOLUCI√ìN TEMPORAL)</div>
    
    <!-- LEYENDA ESPEC√çFICA PARA ESTA SECCI√ìN -->
    <div class="legend-container">
        <div class="legend-badge" style="background: var(--icfes-verde);">AVANZADO (350 - 500)</div>
        <div class="legend-badge" style="background: var(--icfes-azul);">SATISFACTORIO (270 - 349)</div>
        <div class="legend-badge" style="background: var(--icfes-naranja);">M√çNIMO (181 - 269)</div>
        <div class="legend-badge" style="background: var(--icfes-rojo);">INSUFICIENTE (0 - 180)</div>
    </div>

    <div class="global-container">
        <canvas id="chartGlobal"></canvas>
    </div>

    <!-- 2. TRAZABILIDAD (ESCALA 0-100) -->
    <div class="section-title"><div class="section-num">2</div> TRAZABILIDAD HIST√ìRICA POR ASIGNATURA</div>

    <!-- Grado 10 -->
    <div class="trace-section-subtitle" style="border-color: var(--g10-color); color: var(--g10-color);">GRADO 10¬∞</div>
    <div class="trace-grid">
        <div class="trace-card">
            <div class="trace-header bg-leng">LENGUAJE</div>
            <div class="trace-body"><canvas id="lineG10_Len"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">48.5</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">43.6</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-mat">MATEM√ÅTICAS</div>
            <div class="trace-body"><canvas id="lineG10_Mat"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">39.3</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">42.0</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-nat">CIENCIAS NATURALES</div>
            <div class="trace-body"><canvas id="lineG10_Nat"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">46.5</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">42.5</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-soc">CIENCIAS SOCIALES</div>
            <div class="trace-body"><canvas id="lineG10_Soc"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">58.2</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">46.2</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-ing">INGL√âS</div>
            <div class="trace-body"><canvas id="lineG10_Ing"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">51.0</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">44.8</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
    </div>

    <!-- Grado 11 -->
    <div class="trace-section-subtitle" style="border-color: var(--g11-color); color: var(--g11-color);">GRADO 11¬∞</div>
    <div class="trace-grid">
        <div class="trace-card">
            <div class="trace-header bg-leng">LENGUAJE</div>
            <div class="trace-body"><canvas id="lineG11_Len"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">61.4</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">53.6</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-mat">MATEM√ÅTICAS</div>
            <div class="trace-body"><canvas id="lineG11_Mat"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">56.6</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">52.3</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-nat">CIENCIAS NATURALES</div>
            <div class="trace-body"><canvas id="lineG11_Nat"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">44.1</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">56.7</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-soc">CIENCIAS SOCIALES</div>
            <div class="trace-body"><canvas id="lineG11_Soc"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">47.8</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">56.7</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
        <div class="trace-card">
            <div class="trace-header bg-ing">INGL√âS</div>
            <div class="trace-body"><canvas id="lineG11_Ing"></canvas></div>
            <div class="trace-footer"><div style="text-align:left"><span class="tf-val">51.4</span><span class="tf-lbl">Inicio</span></div><div style="text-align:right"><span class="tf-val">62.0</span><span class="tf-lbl">Cierre</span></div></div>
        </div>
    </div>

    <!-- 3. DISTRIBUCI√ìN -->
    <div class="section-title"><div class="section-num">3</div> DISTRIBUCI√ìN DE NIVELES DE DESEMPE√ëO (%)</div>
    <div class="global-container" style="height: 320px;">
        <canvas id="chartStack"></canvas>
    </div>

    <!-- 4. AN√ÅLISIS MULTI -->
    <div class="section-title"><div class="section-num">4</div> AN√ÅLISIS MULTIDIMENSIONAL</div>
    <div class="multi-grid">
        <div class="chart-box">
            <div class="cb-title">PERFIL DE COHORTES (RADAR)</div>
            <canvas id="chartRadar" style="width: 50%;"></canvas>
        </div>
        <div class="chart-box">
            <div class="cb-title">COMPARATIVO FINAL DE PROMEDIOS (G10 vs G11)</div>
            <canvas id="chartBarCompare"></canvas>
        </div>
    </div>

    <!-- HALLAZGOS Y RECOMENDACIONES -->
    <div class="suggestions-container">
        <div class="sug-title">üîç HALLAZGOS Y RECOMENDACIONES PEDAG√ìGICAS</div>
        
        <div class="sug-grid">
            <div>
                <div class="sug-item">
                    <div class="sug-header">1. AN√ÅLISIS GLOBAL (ESCALA 0-500)</div>
                    <div class="sug-text">El promedio global ponderado de <strong>Grado 10 es 242.4</strong> y el de <strong>Grado 11 es 268.6</strong>. Ambos se sit√∫an en el rango <strong>M√çNIMO</strong> (Naranja), aunque Grado 11 est√° a solo 1.4 puntos de alcanzar el nivel Satisfactorio (270), impulsado por las pruebas PI 11 y MASTER ELITE.</div>
                </div>
                <div class="sug-item">
                    <div class="sug-header">2. DESEMPE√ëO POR √ÅREAS (ESCALA 0-100)</div>
                    <div class="sug-text">Al observar las √°reas espec√≠ficas, Matem√°ticas en Grado 10 (42.3) requiere atenci√≥n urgente. En contraste, Ingl√©s en Grado 11 alcanza 62.0, demostrando una competencia ling√º√≠stica superior al promedio institucional.</div>
                </div>
            </div>
            <div>
                <div class="sug-item">
                    <div class="sug-header">3. TENDENCIA DEL A√ëO</div>
                    <div class="sug-text">La prueba DELTA en Grado 10 mostr√≥ un pico excepcional (298.5) que no se sostuvo en las pruebas posteriores (Epsilon y Kappa). Es necesario investigar qu√© factores metodol√≥gicos influyeron en ese momento para replicarlos.</div>
                </div>
                <div class="sug-item">
                    <div class="sug-header">4. CONCLUSI√ìN</div>
                    <div class="sug-text">La instituci√≥n mantiene un nivel M√≠nimo estable. El reto inmediato es mover la masa cr√≠tica de estudiantes de Grado 11 hacia el nivel Satisfactorio en el cierre del a√±o, enfoc√°ndose en Lectura Cr√≠tica y Matem√°ticas.</div>
                </div>
            </div>
        </div>
    </div>

    <footer>Grupo Educate Colombia 2025 / I.E. JORGE ELIECER GAITAN</footer>
</div>

<script>
    Chart.register(ChartDataLabels);
    Chart.defaults.font.family = "'Roboto', sans-serif";
    Chart.defaults.color = '#555';

    // VARIABLES DE COLOR
    const G10_COLOR = '#104E8B'; 
    const G11_COLOR = '#008B8B'; 

    // Colores √Åreas
    const C_LENG = '#FFAF10';
    const C_MAT = '#FA8349';
    const C_NAT = '#38B849';
    const C_SOC = '#3F7ABE';
    const C_ING = '#825EA8';

    // Datos Auditados (ESCALA 0-100) para √Åreas
    const labelsAreas = ['MATEM√ÅTICAS', 'LENGUAJE', 'SOCIALES', 'NATURALES', 'INGL√âS'];
    const avgG10 = [42.3, 52.5, 57.2, 42.3, 47.6];
    const avgG11 = [52.0, 55.2, 57.4, 54.4, 49.9];

    const histG10 = {
        labels: ['SIGMA', 'DZETA', 'DELTA', 'EPSILON', 'KAPPA'],
        mat: [39.3, 30.8, 50.0, 49.3, 42.0],
        len: [48.5, 44.4, 74.0, 52.0, 43.6],
        soc: [58.2, 54.2, 64.0, 63.3, 46.2],
        nat: [46.5, 37.8, 54.0, 30.6, 42.5],
        ing: [51.0, 46.9, 50.0, 45.3, 44.8]
    };

    const histG11 = {
        labels: ['SIGMA', 'MASTER', 'PI', 'KAPPA P'],
        mat: [56.6, 47.9, 51.3, 52.3],
        len: [61.4, 48.6, 57.3, 53.6],
        soc: [47.8, 67.6, 57.6, 56.7],
        nat: [44.1, 52.1, 54.5, 56.7],
        ing: [51.4, 58.8, 45.5, 62.0]
    };

    // --- GR√ÅFICO 1: GLOBAL (ESCALA 0-500) ---
    // Datos Proporcionados en Imagen
    const globalScores = [241.7, 211.0, 298.5, 242.7, 218.3, 262.0, 272.1, 272.2, 268.0];
    
    const allGlobalLabels = [
        ['SIGMA', 'Grado 10¬∞'], 
        ['DZETA', 'Grado 10¬∞'], 
        ['DELTA', 'Grado 10¬∞'], 
        ['EPSILON', 'Grado 10¬∞'], 
        ['KAPPA', 'Grado 10¬∞'], 
        ['SIGMA', 'Grado 11¬∞'], 
        ['MASTER', 'Grado 11¬∞'], 
        ['PI', 'Grado 11¬∞'], 
        ['KAPPA P', 'Grado 11¬∞']
    ];
    
    // L√≥gica de Colores ICFES (0-500)
    const getGlobalColor = (v) => { 
        if(v >= 350) return '#27AE60'; // Avanzado (350-500)
        if(v >= 270) return '#2980B9'; // Satisfactorio (270-349)
        if(v >= 181) return '#F39C12'; // M√≠nimo (181-269)
        return '#C0392B';            // Insuficiente (0-180)
    };

    new Chart(document.getElementById('chartGlobal'), {
        type: 'bar',
        data: {
            labels: allGlobalLabels,
            datasets: [{
                data: globalScores,
                backgroundColor: globalScores.map(v => getGlobalColor(v)),
                borderRadius: 4
            }]
        },
        options: {
            responsive: true, maintainAspectRatio: false,
            plugins: { legend: {display: false}, datalabels: { color: 'black', anchor: 'end', align: 'top', font:{weight:'bold'} } },
            scales: { y: { min: 0, max: 500 } } // Escala ajustada a 500
        }
    });

    // --- GR√ÅFICOS DE √ÅREA (ESCALA 0-100) ---
    const createLine = (ctx, labels, data, color) => {
        new Chart(document.getElementById(ctx), {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    data: data,
                    borderColor: '#555',
                    borderWidth: 2,
                    pointBackgroundColor: 'white',
                    pointBorderColor: color,
                    pointBorderWidth: 2,
                    pointRadius: 5,
                    tension: 0.3,
                    fill: { target: 'origin', above: color + '15' }
                }]
            },
            options: {
                responsive: true, maintainAspectRatio: false,
                plugins: {
                    legend: {display: false},
                    datalabels: { display: true, align: 'top', color: '#333', font: { weight: 'bold' }, offset: 4 }
                },
                scales: {
                    y: { min: 0, max: 100, display: false },
                    x: { grid: { display: false }, ticks: { font: {size: 10}, maxRotation: 45, minRotation: 45 } }
                },
                layout: { padding: { top: 20, left: 10, right: 10 } }
            }
        });
    };

    createLine('lineG10_Len', histG10.labels, histG10.len, C_LENG);
    createLine('lineG10_Mat', histG10.labels, histG10.mat, C_MAT);
    createLine('lineG10_Nat', histG10.labels, histG10.nat, C_NAT);
    createLine('lineG10_Soc', histG10.labels, histG10.soc, C_SOC);
    createLine('lineG10_Ing', histG10.labels, histG10.ing, C_ING);

    createLine('lineG11_Len', histG11.labels, histG11.len, C_LENG);
    createLine('lineG11_Mat', histG11.labels, histG11.mat, C_MAT);
    createLine('lineG11_Nat', histG11.labels, histG11.nat, C_NAT);
    createLine('lineG11_Soc', histG11.labels, histG11.soc, C_SOC);
    createLine('lineG11_Ing', histG11.labels, histG11.ing, C_ING);

    // 3. STACK (0-100)
    new Chart(document.getElementById('chartStack'), {
        type: 'bar',
        data: {
            labels: ['Promedio Global G10', 'Promedio Global G11'],
            datasets: [
                { label: 'Insuficiente', data: [55, 30], backgroundColor: '#C0392B' },
                { label: 'M√≠nimo', data: [35, 50], backgroundColor: '#F39C12' },
                { label: 'Satisfactorio', data: [8, 15], backgroundColor: '#2980B9' },
                { label: 'Avanzado', data: [2, 5], backgroundColor: '#27AE60' }
            ]
        },
        options: {
            responsive: true, maintainAspectRatio: false,
            indexAxis: 'y',
            scales: { x: {stacked: true, max: 100}, y: {stacked: true} },
            plugins: { datalabels: { color: 'white', formatter: v=>v+'%' }, legend: {position: 'bottom'} }
        }
    });

    // 4. COMPARATIVO BARRAS & RADAR (0-100)
    new Chart(document.getElementById('chartBarCompare'), {
        type: 'bar',
        data: {
            labels: labelsAreas,
            datasets: [
                { label: 'Grado 10', data: avgG10, backgroundColor: G10_COLOR },
                { label: 'Grado 11', data: avgG11, backgroundColor: G11_COLOR }
            ]
        },
        options: {
            responsive: true, maintainAspectRatio: false,
            plugins: {
                legend: { position: 'top' },
                datalabels: { color: 'white', anchor: 'center', align: 'center', font: { weight: 'bold', size: 11 }, formatter: Math.round }
            },
            scales: { y: { min: 0, max: 80 } }
        }
    });

    new Chart(document.getElementById('chartRadar'), {
        type: 'radar',
        data: {
            labels: labelsAreas,
            datasets: [
                { label: 'Grado 10', data: avgG10, borderColor: G10_COLOR, backgroundColor: G10_COLOR+'33', borderWidth: 2 },
                { label: 'Grado 11', data: avgG11, borderColor: G11_COLOR, backgroundColor: G11_COLOR+'33', borderWidth: 2 }
            ]
        },
        options: {
            responsive: true, maintainAspectRatio: false,
            scales: { r: { min: 0, max: 70, ticks: {display: false} } },
            plugins: { legend: {display:false}, datalabels: {display: false} }
        }
    });

</script>

</body>
</html>
